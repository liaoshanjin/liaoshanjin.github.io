<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="Hugo 0.75.1" />

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="author" content="特污兔" />
  <meta property="og:url" content="https://liaoshanjin.github.io/others/apache-ab-test/" />
  <link rel="canonical" href="https://liaoshanjin.github.io/others/apache-ab-test/" /><link rel="alternate" type="application/atom+xml" href="https://liaoshanjin.github.ioindex.xml" title="特污兔的博客">

  <script type="application/ld+json">
  {
      "@context" : "http://schema.org",
      "@type" : "BlogPosting",
      "mainEntityOfPage": {
           "@type": "WebPage",
           "@id": "https:\/\/liaoshanjin.github.io"
      },
      "articleSection" : "others",
      "name" : "ab 测试",
      "headline" : "ab 测试",
      "description" : "Apache ab测试 只要安装了 Apache 就能使用 ab 测试。 Apache 的下载地址： 摸我\n下载完解压即可。再 bin 目录下有个 ab.exe 的应用。\n使用例子：\n.\/ab.exe -c1000 -n1000 http:\/\/127.0.0.1:8080\/\r响应：\n$ .\/ab.exe -c1000 -n1000 http:\/\/127.0.0.1:8080\/\rThis is ApacheBench, Version 2.3 \u0026lt;$Revision: 1874286 $\u0026gt;\rCopyright 1996 Adam Twiss, Zeus Technology Ltd, http:\/\/www.zeustech.net\/\rLicensed to The Apache Software Foundation, http:\/\/www.apache.org\/\rBenchmarking 127.0.0.1 (be patient)\rCompleted 100 requests\rCompleted 200 requests\rCompleted 300 requests\rCompleted 400 requests\rCompleted 500 requests\rCompleted 600 requests\rCompleted 700 requests\rCompleted 800 requests\rCompleted 900 requests\rCompleted 1000 requests\rFinished 1000 requests\rServer Software:\t#被测试服务器软件名称\rServer Hostname: 127.",
      "inLanguage" : "en-US",
      "author" : "特污兔",
      "creator" : "特污兔",
      "publisher": "特污兔",
      "accountablePerson" : "特污兔",
      "copyrightHolder" : "特污兔",
      "copyrightYear" : "2020",
      "datePublished": "2020-04-23 19:00:00 \u002b0800 CST",
      "dateModified" : "2020-04-23 19:00:00 \u002b0800 CST",
      "url" : "https:\/\/liaoshanjin.github.io\/others\/apache-ab-test\/",
      "keywords" : [  ]
  }
</script>
<title>ab 测试 - 特污兔的博客</title>
  <meta property="og:title" content="ab 测试 - 特污兔的博客" />
  <meta property="og:type" content="article" />
  <meta property="og:description" content="Apache ab测试 只要安装了 Apache 就能使用 ab 测试。 Apache 的下载地址： 摸我
下载完解压即可。再 bin 目录下有个 ab.exe 的应用。
使用例子：
./ab.exe -c1000 -n1000 http://127.0.0.1:8080/响应：
$ ./ab.exe -c1000 -n1000 http://127.0.0.1:8080/This is ApacheBench, Version 2.3 &lt;$Revision: 1874286 $&gt;Copyright 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/Licensed to The Apache Software Foundation, http://www.apache.org/Benchmarking 127.0.0.1 (be patient)Completed 100 requestsCompleted 200 requestsCompleted 300 requestsCompleted 400 requestsCompleted 500 requestsCompleted 600 requestsCompleted 700 requestsCompleted 800 requestsCompleted 900 requestsCompleted 1000 requestsFinished 1000 requestsServer Software:	#被测试服务器软件名称Server Hostname: 127." />
  <meta name="description" content="Apache ab测试 只要安装了 Apache 就能使用 ab 测试。 Apache 的下载地址： 摸我
下载完解压即可。再 bin 目录下有个 ab.exe 的应用。
使用例子：
./ab.exe -c1000 -n1000 http://127.0.0.1:8080/响应：
$ ./ab.exe -c1000 -n1000 http://127.0.0.1:8080/This is ApacheBench, Version 2.3 &lt;$Revision: 1874286 $&gt;Copyright 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/Licensed to The Apache Software Foundation, http://www.apache.org/Benchmarking 127.0.0.1 (be patient)Completed 100 requestsCompleted 200 requestsCompleted 300 requestsCompleted 400 requestsCompleted 500 requestsCompleted 600 requestsCompleted 700 requestsCompleted 800 requestsCompleted 900 requestsCompleted 1000 requestsFinished 1000 requestsServer Software:	#被测试服务器软件名称Server Hostname: 127." />
  <meta property="og:locale" content="zh_CN" />

  <link rel="stylesheet" href="/css/flexboxgrid-6.3.1.min.css" />
  <link rel="stylesheet" href="/css/github-markdown.css" />
  <link rel="stylesheet" href="/css/highlight/tomorrow.min.css" />
  <link rel="stylesheet" href="/css/index.css">
  <link href="/index.xml" rel="alternate" type="application/rss+xml"
    title="特污兔的博客">
  
  <link href="https://fonts.googleapis.com/css?family=Arvo|Permanent+Marker|Bree+Serif" rel="stylesheet">
  
  

  
</head>

<body>
  <article class="post " id="article">
    <div class="row">
      <div class="col-xs-12">
        <div class="site-header">
          
<header>
  <div class="signatures site-title">
    <a href="/">Stringer的博客</a>
  </div>
</header>
<div class="row end-xs">
  
  
</div>
<div class="header-line"></div>

        </div>
        <header class="post-header">
          <h1 class="post-title">ab 测试</h1>
          
          <div class="row post-desc">
            <div class="col-xs-6">
              
              <time class="post-date" datetime="2020-04-23 19:00:00 CST">
                23 Apr 2020
              </time>
              
            </div>
            <div class="col-xs-6">
              
              <div class="post-author">
                <a target="_blank" href="https://liaoshanjin.github.io/">@特污兔</a>
              </div>
              
            </div>
          </div>
          
        </header>

        <div class="post-content markdown-body">
          
          <h3 id="apache-ab测试">Apache ab测试</h3>
<p>只要安装了 Apache 就能使用 ab 测试。 Apache 的下载地址： <a href="http://httpd.apache.org/">摸我</a></p>
<p>下载完解压即可。再 <em>bin</em> 目录下有个 ab.exe 的应用。</p>
<p><img src="/images/ab.jpg" alt="安装路径"></p>
<p>使用例子：</p>
<pre><code>./ab.exe -c1000 -n1000 http://127.0.0.1:8080/
</code></pre><p>响应：</p>
<pre><code>$ ./ab.exe -c1000 -n1000 http://127.0.0.1:8080/
This is ApacheBench, Version 2.3 &lt;$Revision: 1874286 $&gt;
Copyright 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/
Licensed to The Apache Software Foundation, http://www.apache.org/

Benchmarking 127.0.0.1 (be patient)
Completed 100 requests
Completed 200 requests
Completed 300 requests
Completed 400 requests
Completed 500 requests
Completed 600 requests
Completed 700 requests
Completed 800 requests
Completed 900 requests
Completed 1000 requests
Finished 1000 requests


Server Software:								#被测试服务器软件名称
Server Hostname:        127.0.0.1				#服务器主机名
Server Port:            8080					#服务器端口

Document Path:          /						#请求路径
Document Length:        21 bytes				#响应数据长度

Concurrency Level:      1000					#并发数量，即 -c 自定义
Time taken for tests:   0.163 seconds			#整个测试耗时
Complete requests:      1000					#总共完成的请求数量
Failed requests:        0						#失败次数
Total transferred:      144000 bytes			#测试过程中产生的网络传输总量
HTML transferred:       21000 bytes				#测试过程中产生的HTML传输量
Requests per second:    6141.83 [#/sec] (mean)  #表示服务器每秒处理的请求数量，括号中的 mean 表示这是一个平均值
Time per request:       162.818 [ms] (mean)   	#表示处理用户请求的平均响应时间，后面括号中的mean表示这是一个平均值
Time per request:       0.163 [ms] (mean, across all concurrent requests)  #服务器处理每次请求的平均时间
Transfer rate:          863.69 [Kbytes/sec] received 	#带宽传输速度

Connection Times (ms)
              min  mean[+/-sd] median   max
Connect:        0    0   0.3      0       1
Processing:    45   87  22.9     87     126
Waiting:        1   63  32.2     63     119
Total:         46   87  22.9     87     126

Percentage of the requests served within a certain time (ms)
  50%     87
  66%    100
  75%    106
  80%    111
  90%    118
  95%    122
  98%    125
  99%    125
 100%    126 (longest request)
</code></pre><p>以上是一个小小的 ab 测试。</p>
<h4 id="基本使用">基本使用</h4>
<p>使用命令：</p>
<pre><code>ab [-参数] [请求地址]
</code></pre><p>请求地址比较特殊。不能直接是域名，如：<code>http://study.test</code> 需要再加一个斜线 <code>/</code> ，即：<code>http://study.test/</code></p>
<p>可选的参数有：</p>
<pre><code>-n 		requests    	#执行的请求数，即一共发起多少请求。
-c 		concurrency     #请求并发数。
-t 		timelimit       #测试所进行的最大秒数。其内部隐含值是-n 50000，它可以使对服务器的测试限制在一个固定的总时间以内。默认时，没有时间限制。
-s 		timeout    		#指定每个请求的超时时间，默认是30秒。
-b 		windowsize    	#指定tcp窗口的大小，单位是字节。
-B 		address    		#指定在发起连接时绑定的ip地址是什么。
-p 		postfile    	#指定要POST的文件，同时要设置-T参数。
-u 		putfile    		#指定要PUT的文件，同时要设置-T参数。
-T 		content-type    #指定使用POST或PUT上传文本时的文本类型，默认是'text/plain'。
-v 		verbosity    	#设置详细模式等级。
-w    					#将结果输出到html的表中。
-i    					#使用HEAD方式代替GET发起请求。
-y 		attributes    	#以表格方式输出时，设置html表格tr属性。 
-z 		attributes    	#以表格方式输出时，设置html表格th或td属性。
-C 		attribute    	#添加cookie,比如'Apache=1234'。（可重复）
-H 		attribute    	#为请求追加一个额外的头部，比如'Accept-Encoding: gzip'。（可重复）
-A 		attribute    	#对服务器提供BASIC认证信任。用户名和密码由一个:隔开，并以base64编码形式发送。无论服务器是否需要(即,是否发送了401认证需求代码)，此字符串都会被发送。
-P 		attribute    	#对一个中转代理提供BASIC认证信任。用户名和密码由一个:隔开，并以base64编码形式发送。无论服务器是否需要(即, 是否发送了401认证需求代码)，此字符串都会被发送。
-X 		proxy:port   	#指定代理服务器的IP和端口。
-g 		filename     	#把所有测试结果写入一个'gnuplot'或者TSV(以Tab分隔的)文件。此文件可以方便地导入到Gnuplot,IDL,Mathematica,Igor甚至Excel中。其中的第一行为标题。
-e 		filename     	#产生一个以逗号分隔的(CSV)文件，其中包含了处理每个相应百分比的请求所需要(从1%到100%)的相应百分比的(以微妙为单位)时间。由于这种格式已经“二进制化”，所以比'gnuplot'格式更有用。
-Z 		ciphersuite  	#指定SSL/TLS密码套件
-f 		protocol     	#指定SSL/TLS协议(SSL3, TLS1, TLS1.1, TLS1.2 or ALL)

-V   	#打印版本信息。
-k   	#启用HTTP KeepAlive功能，即在一个HTTP会话中执行多个请求。默认时，不启用KeepAlive功能。
-d      #不显示&quot;percentage served within XX [ms] table&quot;的消息(为以前的版本提供支持)。
-q      #如果处理的请求数大于150，ab每处理大约10%或者100个请求时，会在stderr输出一个进度计数。此-q标记可以抑制这些信息。
-r      #当收到错误时不要退出。
-h      #输出帮助信息
</code></pre>
        </div>

        <div class="row middle-xs">
          <div class="col-xs-12">
            
          </div>
        </div>
        <div class="row">
          <div class="col-xs-12">
            
          </div>
        </div>

        
        

        
        
        <div style="height: 50px;"></div>
        
        <div class="post-comments">
          <div id="disqus_thread"></div>
<script>
  window.addEventListener("load", () => {
    (function() {
      
      var d = document,
        s = d.createElement("script");
      s.src = "https://特污兔.disqus.com/embed.js";
      s.setAttribute("data-timestamp", +new Date());
      (d.head || d.body).appendChild(s);
    })();
  });
</script>
<noscript
  >Please enable JavaScript to view the
  <a href="https://disqus.com/?ref_noscript"
    >comments powered by Disqus.</a
  ></noscript
>

        </div>
        
        

        <div class="site-footer">
  
  <div class="site-footer-item">
    <a href="/about/" target="_blank">关于我</a>
  </div>
  
  <div class="site-footer-item">
    <a href="https://github.com/liaoshanjin" target="_blank">Github</a>
  </div>
  
  
</div>

      </div>
    </div>
  </article>

  <script src="/js/highlight.pack.js"></script>


<script>
  hljs.initHighlightingOnLoad();
  
  
  
    
    
  
</script>

  

</body>

</html>